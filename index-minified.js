function isLeapYear(e){return e%4==0&&(e%100!=0||e%400==0)}function formatNumberForTime(e,r){var a=(e+"").length;if(a<r)for(var t=0;t<r-a;t++)e="0"+e;return e}module.exports.getLocalTime=function(e){var r=new Date,a=r.getTime()-6e4*r.getTimezoneOffset();return e?this.convert(a,!0):this.convert(a,!1)},module.exports.getTime=function(e,r,a){return e?this.convert((new Date).getTime(),!0,r,a):this.convert((new Date).getTime(),!1,r,a)},module.exports.convertToLocalTime=function(e,r){var a=e-6e4*(new Date).getTimezoneOffset();return r?this.convert(a,!0):this.convert(a,!1)},module.exports.convert=function(e,r,a,t){a&&(e+=36e5*a),t&&(e+=6e4*t);var o,s=Math.floor(e/864e5),i=(s%7+4)%7+1;switch(i){case 1:o="Sunday";break;case 2:o="Monday";break;case 3:o="Tuesday";break;case 4:o="Wednesday";break;case 5:o="Thursday";break;case 6:o="Friday";break;case 7:o="Saturday"}for(var n,c=s,f=1970;;){if(isLeapYear(f)){if(c-366<0)break;c-=366}else{if(c-365<0)break;c-=365}f++}for(var m,u=c+1,b=1;b<=12;b++)if(4==b||6==b||9==b||11==b){if(!(0<u-30)){n=b;break}u-=30}else if(2==b)if(isLeapYear(f)){if(!(0<u-29)){n=b;break}u-=29}else{if(!(0<u-28)){n=b;break}u-=28}else{if(!(0<u-31)){n=b;break}u-=31}switch(n){case 1:m="January";break;case 2:m="February";break;case 3:m="March";break;case 4:m="April";break;case 5:m="May";break;case 6:m="June";break;case 7:m="July";break;case 8:m="August";break;case 9:m="September";break;case 10:m="October";break;case 11:m="November";break;case 12:m="December"}var k=e-864e5*s,h=k/1e3,l=h/60,d=Math.floor(l/60),T=Math.floor(l%60),v=Math.floor(h%60),y=Math.floor(k%1e3),p={year:f,monthName:m,monthNumber:n,dayOfTheWeekNumber:i,dayOfTheWeek:o,day:u,hours:d,minutes:T,seconds:v,milliseconds:y};return r&&(p.period=12<=d?"PM":"AM",0==(d%=12)&&(d=12),p.hours=d),p.formattedTime=d+":"+formatNumberForTime(T,2)+":"+formatNumberForTime(v,2)+"."+formatNumberForTime(y,3),p};